//
//  AppDelegate.swift
//  WeatherDisplayerLBC
//
//  Created by guillaume MAIANO on 04/12/2019.
//  Copyright Â© 2019 guillaume MAIANO. All rights reserved.
//

import UIKit
import Firebase

@UIApplicationMain
class AppDelegate: UIResponder, UIApplicationDelegate {

    // Apple doesn't provide the boilerplate for < iOS 13
    var window : UIWindow?

    func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {
        FirebaseApp.configure()
        #if DEBUG
        if CommandLine.arguments.contains("enable-testing") {
            configureAppForTesting()
        }
        #endif
        return true
    }

    // MARK: UISceneSession Lifecycle

    @available(iOS 13.0, *)
    func application(_ application: UIApplication, configurationForConnecting connectingSceneSession: UISceneSession, options: UIScene.ConnectionOptions) -> UISceneConfiguration {
        // Called when a new scene session is being created.
        // Use this method to select a configuration to create the new scene with.
        return UISceneConfiguration(name: "Default Configuration", sessionRole: connectingSceneSession.role)
    }

    @available(iOS 13.0, *)
    func application(_ application: UIApplication, didDiscardSceneSessions sceneSessions: Set<UISceneSession>) {
        // Called when the user discards a scene session.
        // If any sessions were discarded while the application was not running, this will be called shortly after application:didFinishLaunchingWithOptions.
        // Use this method to release any resources that were specific to the discarded scenes, as they will not return.
    }

    private func configureAppForTesting() {
        // Write fake weatherdata file
        let store = WeatherStore()
        let testedDates = ["2019-12-19 04:00:00", "2019-12-20 07:00:00", "2019-12-25 16:00:00"]
        let dataSample = #"""
        {\#(testedDates[1]):{"temperature":{"2m":280.9,"sol":281.1,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99500},"pluie":1.1,"pluie_convective":1.1,"humidite":{"2m":83.1},"vent_moyen":{"10m":49.4},"vent_rafales":{"10m":61.2},"vent_direction":{"10m":217},"iso_zero":993,"risque_neige":"non","cape":0,"nebulosite":{"haute":19,"moyenne":100,"basse":96,"totale":100}},
        "2019-12-16 07:00:00":{"temperature":{"2m":280.7,"sol":280.9,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99480},"pluie":0.3,"pluie_convective":0.3,"humidite":{"2m":81},"vent_moyen":{"10m":43.6},"vent_rafales":{"10m":54.2},"vent_direction":{"10m":225},"iso_zero":900,"risque_neige":"non","cape":0,"nebulosite":{"haute":9,"moyenne":83,"basse":59,"totale":83}},"2019-12-16 10:00:00":{"temperature":{"2m":280.8,"sol":280.9,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99610},"pluie":0,"pluie_convective":0,"humidite":{"2m":80},"vent_moyen":{"10m":40.4},"vent_rafales":{"10m":52.3},"vent_direction":{"10m":218},"iso_zero":872,"risque_neige":"non","cape":0,"nebulosite":{"haute":33,"moyenne":0,"basse":0,"totale":33}},\#(testedDates[0]):{"temperature":{"2m":280.6,"sol":280.8,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99710},"pluie":0,"pluie_convective":0,"humidite":{"2m":75.9},"vent_moyen":{"10m":46.1},"vent_rafales":{"10m":55.1},"vent_direction":{"10m":232},"iso_zero":797,"risque_neige":"non","cape":0,"nebulosite":{"haute":67,"moyenne":0,"basse":0,"totale":67}},"2019-12-16 16:00:00":{"temperature":{"2m":280.3,"sol":280.3,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99870},"pluie":0,"pluie_convective":0,"humidite":{"2m":75.5},"vent_moyen":{"10m":35.7},"vent_rafales":{"10m":41.5},"vent_direction":{"10m":238},"iso_zero":738,"risque_neige":"non","cape":0,"nebulosite":{"haute":100,"moyenne":5,"basse":0,"totale":100}},
        \#(testedDates[2]):{"temperature":{"2m":280.2,"sol":280.1,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99990},"pluie":0,"pluie_convective":0,"humidite":{"2m":74.9},"vent_moyen":{"10m":26.8},"vent_rafales":{"10m":31.7},"vent_direction":{"10m":229},"iso_zero":1037,"risque_neige":"non","cape":0,"nebulosite":{"haute":100,"moyenne":14,"basse":0,"totale":100}},"2019-12-16 22:00:00":{"temperature":{"2m":280.4,"sol":280.4,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":100060},"pluie":0,"pluie_convective":0,"humidite":{"2m":78.5},"vent_moyen":{"10m":24.3},"vent_rafales":{"10m":30.3},"vent_direction":{"10m":218},"iso_zero":1104,"risque_neige":"non","cape":0,"nebulosite":{"haute":100,"moyenne":68,"basse":0,"totale":100}},"2019-12-17 01:00:00":{"temperature":{"2m":280.5,"sol":280.5,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":100050},"pluie":0,"pluie_convective":0,"humidite":{"2m":82.1},"vent_moyen":{"10m":18.3},"vent_rafales":{"10m":24.9},"vent_direction":{"10m":203},"iso_zero":1111,"risque_neige":"non","cape":0,"nebulosite":{"haute":100,"moyenne":84,"basse":0,"totale":100}},"2019-12-17 04:00:00":{"temperature":{"2m":280.6,"sol":280.6,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99950},"pluie":0,"pluie_convective":0,"humidite":{"2m":84.8},"vent_moyen":{"10m":18.1},"vent_rafales":{"10m":23.5},"vent_direction":{"10m":529},"iso_zero":1042,"risque_neige":"non","cape":0,"nebulosite":{"haute":100,"moyenne":100,"basse":0,"totale":100}},"2019-12-17 07:00:00":{"temperature":{"2m":280.8,"sol":280.9,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99830},"pluie":0,"pluie_convective":0,"humidite":{"2m":87.2},"vent_moyen":{"10m":15.8},"vent_rafales":{"10m":20.3},"vent_direction":{"10m":519},"iso_zero":1056,"risque_neige":"non","cape":0,"nebulosite":{"haute":84,"moyenne":100,"basse":0,"totale":100}},"2019-12-17 10:00:00":{"temperature":{"2m":280.5,"sol":280.5,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99830},"pluie":0.1,"pluie_convective":0.1,"humidite":{"2m":85.4},"vent_moyen":{"10m":22.1},"vent_rafales":{"10m":24.6},"vent_direction":{"10m":529},"iso_zero":1017,"risque_neige":"non","cape":0,"nebulosite":{"haute":100,"moyenne":100,"basse":27,"totale":100}},"2019-12-17 13:00:00":{"temperature":{"2m":280.1,"sol":280.1,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99810},"pluie":0,"pluie_convective":0,"humidite":{"2m":85.1},"vent_moyen":{"10m":9.5},"vent_rafales":{"10m":10.6},"vent_direction":{"10m":527},"iso_zero":1031,"risque_neige":"non","cape":0,"nebulosite":{"haute":98,"moyenne":100,"basse":63,"totale":100}},"2019-12-17 16:00:00":{"temperature":{"2m":280.2,"sol":280.1,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99800},"pluie":0,"pluie_convective":0,"humidite":{"2m":84.5},"vent_moyen":{"10m":10.9},"vent_rafales":{"10m":12.3},"vent_direction":{"10m":215},"iso_zero":938,"risque_neige":"non","cape":0,"nebulosite":{"haute":100,"moyenne":100,"basse":67,"totale":100}},"2019-12-17 19:00:00":{"temperature":{"2m":280.6,"sol":280.6,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99940},"pluie":0.2,"pluie_convective":0.1,"humidite":{"2m":81.2},"vent_moyen":{"10m":18.5},"vent_rafales":{"10m":22.1},"vent_direction":{"10m":278},"iso_zero":915,"risque_neige":"non","cape":0,"nebulosite":{"haute":99,"moyenne":100,"basse":83,"totale":100}},"2019-12-17 22:00:00":{"temperature":{"2m":280.4,"sol":280.4,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":100180},"pluie":0,"pluie_convective":0,"humidite":{"2m":78.9},"vent_moyen":{"10m":29.5},"vent_rafales":{"10m":34.9},"vent_direction":{"10m":253},"iso_zero":827,"risque_neige":"non","cape":0,"nebulosite":{"haute":100,"moyenne":100,"basse":0,"totale":100}},"2019-12-18 01:00:00":{"temperature":{"2m":280.2,"sol":280,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":100360},"pluie":0,"pluie_convective":0,"humidite":{"2m":80.1},"vent_moyen":{"10m":33.3},"vent_rafales":{"10m":37.6},"vent_direction":{"10m":255},"iso_zero":857,"risque_neige":"non","cape":0,"nebulosite":{"haute":50,"moyenne":50,"basse":0,"totale":50}},"2019-12-18 04:00:00":{"temperature":{"2m":280.2,"sol":279.7,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":100550},"pluie":0,"pluie_convective":0,"humidite":{"2m":79.5},"vent_moyen":{"10m":30.2},"vent_rafales":{"10m":34.7},"vent_direction":{"10m":255},"iso_zero":891,"risque_neige":"non","cape":0,"nebulosite":{"haute":0,"moyenne":0,"basse":0,"totale":0}},"2019-12-18 07:00:00":{"temperature":{"2m":280.2,"sol":279.6,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":100770},"pluie":0,"pluie_convective":0,"humidite":{"2m":77.9},"vent_moyen":{"10m":24.6},"vent_rafales":{"10m":27},"vent_direction":{"10m":241},"iso_zero":885,"risque_neige":"non","cape":0,"nebulosite":{"haute":50,"moyenne":0,"basse":0,"totale":50}},"2019-12-18 10:00:00":{"temperature":{"2m":279.9,"sol":279,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":100980},"pluie":0,"pluie_convective":0,"humidite":{"2m":81.5},"vent_moyen":{"10m":22.8},"vent_rafales":{"10m":25.7},"vent_direction":{"10m":221},"iso_zero":894,"risque_neige":"non","cape":0,"nebulosite":{"haute":67,"moyenne":0,"basse":0,"totale":67}},"2019-12-18 13:00:00":{"temperature":{"2m":279.8,"sol":278.9,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":101120},"pluie":0,"pluie_convective":0,"humidite":{"2m":78},"vent_moyen":{"10m":23.7},"vent_rafales":{"10m":27.4},"vent_direction":{"10m":202},"iso_zero":1074,"risque_neige":"non","cape":0,"nebulosite":{"haute":50,"moyenne":5,"basse":0,"totale":50}},"2019-12-18 16:00:00":{"temperature":{"2m":280,"sol":279.2,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":101070},"pluie":0,"pluie_convective":0,"humidite":{"2m":72.7},"vent_moyen":{"10m":24.5},"vent_rafales":{"10m":29.6},"vent_direction":{"10m":533},"iso_zero":1169,"risque_neige":"non","cape":0,"nebulosite":{"haute":33,"moyenne":32,"basse":0,"totale":33}},"2019-12-18 19:00:00":{"temperature":{"2m":280.4,"sol":279.8,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":101030},"pluie":0,"pluie_convective":0,"humidite":{"2m":83.5},"vent_moyen":{"10m":28.2},"vent_rafales":{"10m":35.4},"vent_direction":{"10m":512},"iso_zero":1207,"risque_neige":"non","cape":0,"nebulosite":{"haute":34,"moyenne":17,"basse":0,"totale":34}},"2019-12-18 22:00:00":{"temperature":{"2m":280.9,"sol":280.4,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":100970},"pluie":0,"pluie_convective":0,"humidite":{"2m":89.6},"vent_moyen":{"10m":33.7},"vent_rafales":{"10m":45.4},"vent_direction":{"10m":505},"iso_zero":1303,"risque_neige":"non","cape":0,"nebulosite":{"haute":0,"moyenne":0,"basse":0,"totale":0}},"2019-12-19 01:00:00":{"temperature":{"2m":281,"sol":280.6,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":100750},"pluie":0,"pluie_convective":0,"humidite":{"2m":85.6},"vent_moyen":{"10m":40.9},"vent_rafales":{"10m":59.1},"vent_direction":{"10m":504},"iso_zero":1431,"risque_neige":"non","cape":0,"nebulosite":{"haute":47,"moyenne":0,"basse":0,"totale":47}},"2019-12-19 04:00:00":{"temperature":{"2m":281,"sol":280.7,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":100470},"pluie":0,"pluie_convective":0,"humidite":{"2m":90.2},"vent_moyen":{"10m":48},"vent_rafales":{"10m":64.5},"vent_direction":{"10m":496},"iso_zero":1757,"risque_neige":"non","cape":0,"nebulosite":{"haute":100,"moyenne":0,"basse":0,"totale":100}},"2019-12-19 07:00:00":{"temperature":{"2m":281.5,"sol":281.5,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":100200},"pluie":0,"pluie_convective":0,"humidite":{"2m":93.3},"vent_moyen":{"10m":48.6},"vent_rafales":{"10m":63.7},"vent_direction":{"10m":500},"iso_zero":1856,"risque_neige":"non","cape":0,"nebulosite":{"haute":100,"moyenne":1,"basse":39,"totale":100}},"2019-12-19 10:00:00":{"temperature":{"2m":281.7,"sol":281.8,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":100100},"pluie":0.1,"pluie_convective":0,"humidite":{"2m":93.7},"vent_moyen":{"10m":43.6},"vent_rafales":{"10m":61.7},"vent_direction":{"10m":515},"iso_zero":1980,"risque_neige":"non","cape":0,"nebulosite":{"haute":100,"moyenne":100,"basse":100,"totale":100}},"2019-12-19 13:00:00":{"temperature":{"2m":281.7,"sol":282,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99990},"pluie":0.6,"pluie_convective":0,"humidite":{"2m":94.5},"vent_moyen":{"10m":41},"vent_rafales":{"10m":60.9},"vent_direction":{"10m":518},"iso_zero":1954,"risque_neige":"non","cape":0,"nebulosite":{"haute":100,"moyenne":100,"basse":100,"totale":100}},"2019-12-19 16:00:00":{"temperature":{"2m":281.8,"sol":282.1,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99900},"pluie":0.5,"pluie_convective":0,"humidite":{"2m":94.6},"vent_moyen":{"10m":40.6},"vent_rafales":{"10m":62},"vent_direction":{"10m":530},"iso_zero":2028,"risque_neige":"non","cape":0,"nebulosite":{"haute":100,"moyenne":100,"basse":100,"totale":100}},"2019-12-19 19:00:00":{"temperature":{"2m":281.9,"sol":282.2,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99820},"pluie":0.3,"pluie_convective":0,"humidite":{"2m":92.6},"vent_moyen":{"10m":41},"vent_rafales":{"10m":64.1},"vent_direction":{"10m":521},"iso_zero":2052,"risque_neige":"non","cape":0,"nebulosite":{"haute":96,"moyenne":83,"basse":99,"totale":100}},"2019-12-19 22:00:00":{"temperature":{"2m":281.8,"sol":282.3,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99750},"pluie":0.8,"pluie_convective":0,"humidite":{"2m":94},"vent_moyen":{"10m":39.1},"vent_rafales":{"10m":58.8},"vent_direction":{"10m":524},"iso_zero":2008,"risque_neige":"non","cape":0,"nebulosite":{"haute":100,"moyenne":100,"basse":100,"totale":100}},"2019-12-20 01:00:00":{"temperature":{"2m":281.6,"sol":282.2,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99640},"pluie":1.3,"pluie_convective":0,"humidite":{"2m":93.2},"vent_moyen":{"10m":27},"vent_rafales":{"10m":38.2},"vent_direction":{"10m":507},"iso_zero":1934,"risque_neige":"non","cape":0,"nebulosite":{"haute":79,"moyenne":100,"basse":100,"totale":100}},"2019-12-20 04:00:00":{"temperature":{"2m":281.5,"sol":282,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99430},"pluie":0,"pluie_convective":0,"humidite":{"2m":92.2},"vent_moyen":{"10m":30.5},"vent_rafales":{"10m":41.4},"vent_direction":{"10m":494},"iso_zero":2034,"risque_neige":"non","cape":0,"nebulosite":{"haute":92,"moyenne":100,"basse":20,"totale":100}},"2019-12-20 07:00:00":{"temperature":{"2m":281.1,"sol":281.6,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99270},"pluie":1.3,"pluie_convective":0,"humidite":{"2m":93.3},"vent_moyen":{"10m":32.2},"vent_rafales":{"10m":44.6},"vent_direction":{"10m":495},"iso_zero":1819,"risque_neige":"non","cape":0,"nebulosite":{"haute":96,"moyenne":100,"basse":43,"totale":100}},"2019-12-20 10:00:00":{"temperature":{"2m":281.1,"sol":281.6,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99180},"pluie":1.9,"pluie_convective":0,"humidite":{"2m":96},"vent_moyen":{"10m":34.5},"vent_rafales":{"10m":48.7},"vent_direction":{"10m":500},"iso_zero":1821,"risque_neige":"non","cape":0,"nebulosite":{"haute":100,"moyenne":100,"basse":100,"totale":100}},"2019-12-20 13:00:00":{"temperature":{"2m":281.2,"sol":281.8,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99010},"pluie":2.1,"pluie_convective":0,"humidite":{"2m":95},"vent_moyen":{"10m":38.6},"vent_rafales":{"10m":53.1},"vent_direction":{"10m":496},"iso_zero":1774,"risque_neige":"non","cape":0,"nebulosite":{"haute":100,"moyenne":100,"basse":100,"totale":100}},"2019-12-20 16:00:00":{"temperature":{"2m":281.2,"sol":281.9,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":98840},"pluie":0.2,"pluie_convective":0,"humidite":{"2m":87.7},"vent_moyen":{"10m":40.9},"vent_rafales":{"10m":57},"vent_direction":{"10m":487},"iso_zero":1518,"risque_neige":"non","cape":0,"nebulosite":{"haute":100,"moyenne":100,"basse":100,"totale":100}},"2019-12-20 19:00:00":{"temperature":{"2m":280.6,"sol":281.4,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":98690},"pluie":0.6,"pluie_convective":0,"humidite":{"2m":93.1},"vent_moyen":{"10m":24.7},"vent_rafales":{"10m":36},"vent_direction":{"10m":477},"iso_zero":1564,"risque_neige":"non","cape":0,"nebulosite":{"haute":100,"moyenne":100,"basse":100,"totale":100}},"2019-12-20 22:00:00":{"temperature":{"2m":280.5,"sol":281.2,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":98660},"pluie":2.7,"pluie_convective":0,"humidite":{"2m":97.4},"vent_moyen":{"10m":21.9},"vent_rafales":{"10m":28.5},"vent_direction":{"10m":243},"iso_zero":1426,"risque_neige":"non","cape":0,"nebulosite":{"haute":67,"moyenne":100,"basse":100,"totale":100}},"2019-12-21 01:00:00":{"temperature":{"2m":281.1,"sol":281.9,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":98790},"pluie":3.1,"pluie_convective":0.1,"humidite":{"2m":91.8},"vent_moyen":{"10m":35.5},"vent_rafales":{"10m":47.7},"vent_direction":{"10m":251},"iso_zero":1316,"risque_neige":"non","cape":0,"nebulosite":{"haute":69,"moyenne":100,"basse":100,"totale":100}},"2019-12-21 04:00:00":{"temperature":{"2m":280.9,"sol":281.4,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99020},"pluie":0,"pluie_convective":0,"humidite":{"2m":87.7},"vent_moyen":{"10m":31.9},"vent_rafales":{"10m":42.9},"vent_direction":{"10m":235},"iso_zero":1200,"risque_neige":"non","cape":0,"nebulosite":{"haute":100,"moyenne":100,"basse":40,"totale":100}},"2019-12-21 07:00:00":{"temperature":{"2m":280.6,"sol":281,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99300},"pluie":0,"pluie_convective":0,"humidite":{"2m":84.5},"vent_moyen":{"10m":29},"vent_rafales":{"10m":37.8},"vent_direction":{"10m":228},"iso_zero":1285,"risque_neige":"non","cape":0,"nebulosite":{"haute":92,"moyenne":86,"basse":20,"totale":92}},"2019-12-21 10:00:00":{"temperature":{"2m":280.5,"sol":280.7,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99510},"pluie":0,"pluie_convective":0,"humidite":{"2m":88.6},"vent_moyen":{"10m":28.8},"vent_rafales":{"10m":37.4},"vent_direction":{"10m":216},"iso_zero":1206,"risque_neige":"non","cape":0,"nebulosite":{"haute":0,"moyenne":0,"basse":0,"totale":0}},"2019-12-21 13:00:00":{"temperature":{"2m":280.3,"sol":280.4,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99600},"pluie":0,"pluie_convective":0,"humidite":{"2m":89.3},"vent_moyen":{"10m":30.1},"vent_rafales":{"10m":37.5},"vent_direction":{"10m":209},"iso_zero":1234,"risque_neige":"non","cape":0,"nebulosite":{"haute":0,"moyenne":0,"basse":0,"totale":0}},"2019-12-21 16:00:00":{"temperature":{"2m":280.3,"sol":280.4,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99500},"pluie":0,"pluie_convective":0,"humidite":{"2m":87.5},"vent_moyen":{"10m":26.5},"vent_rafales":{"10m":33.6},"vent_direction":{"10m":197},"iso_zero":1160,"risque_neige":"non","cape":0,"nebulosite":{"haute":0,"moyenne":0,"basse":0,"totale":0}},"2019-12-21 19:00:00":{"temperature":{"2m":280.3,"sol":280.6,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99430},"pluie":0,"pluie_convective":0,"humidite":{"2m":89},"vent_moyen":{"10m":28.8},"vent_rafales":{"10m":38.5},"vent_direction":{"10m":180},"iso_zero":1104,"risque_neige":"non","cape":0,"nebulosite":{"haute":17,"moyenne":1,"basse":0,"totale":17}},"2019-12-21 22:00:00":{"temperature":{"2m":280.6,"sol":281.1,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99160},"pluie":0.1,"pluie_convective":0.1,"humidite":{"2m":85.2},"vent_moyen":{"10m":34.7},"vent_rafales":{"10m":45.8},"vent_direction":{"10m":183},"iso_zero":931,"risque_neige":"non","cape":0,"nebulosite":{"haute":100,"moyenne":100,"basse":4,"totale":100}},"2019-12-22 01:00:00":{"temperature":{"2m":280.2,"sol":280.9,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":98690},"pluie":3.9,"pluie_convective":0.1,"humidite":{"2m":90.7},"vent_moyen":{"10m":51.3},"vent_rafales":{"10m":62.3},"vent_direction":{"10m":520},"iso_zero":1124,"risque_neige":"non","cape":0,"nebulosite":{"haute":100,"moyenne":100,"basse":52,"totale":100}},"2019-12-22 04:00:00":{"temperature":{"2m":281.3,"sol":282.3,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":98280},"pluie":0.8,"pluie_convective":0.1,"humidite":{"2m":93.5},"vent_moyen":{"10m":33.4},"vent_rafales":{"10m":50.9},"vent_direction":{"10m":200},"iso_zero":1400,"risque_neige":"non","cape":0,"nebulosite":{"haute":35,"moyenne":33,"basse":81,"totale":82}},"2019-12-22 07:00:00":{"temperature":{"2m":281.1,"sol":282.3,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":98150},"pluie":1.4,"pluie_convective":0.1,"humidite":{"2m":92.8},"vent_moyen":{"10m":30.7},"vent_rafales":{"10m":47.6},"vent_direction":{"10m":215},"iso_zero":1242,"risque_neige":"non","cape":0,"nebulosite":{"haute":68,"moyenne":54,"basse":90,"totale":91}},"2019-12-22 10:00:00":{"temperature":{"2m":281.3,"sol":282.4,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":98140},"pluie":0.1,"pluie_convective":0,"humidite":{"2m":87.3},"vent_moyen":{"10m":42.8},"vent_rafales":{"10m":61.9},"vent_direction":{"10m":210},"iso_zero":1221,"risque_neige":"non","cape":0,"nebulosite":{"haute":91,"moyenne":49,"basse":3,"totale":91}},"2019-12-22 13:00:00":{"temperature":{"2m":281.3,"sol":282.5,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":98140},"pluie":1.6,"pluie_convective":0.6,"humidite":{"2m":84.5},"vent_moyen":{"10m":44.3},"vent_rafales":{"10m":67},"vent_direction":{"10m":224},"iso_zero":1140,"risque_neige":"non","cape":0,"nebulosite":{"haute":79,"moyenne":63,"basse":36,"totale":95}},"2019-12-22 16:00:00":{"temperature":{"2m":281.2,"sol":282.3,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":98250},"pluie":0.9,"pluie_convective":0.3,"humidite":{"2m":85.4},"vent_moyen":{"10m":55.6},"vent_rafales":{"10m":72},"vent_direction":{"10m":251},"iso_zero":1071,"risque_neige":"non","cape":0,"nebulosite":{"haute":41,"moyenne":55,"basse":92,"totale":100}},"2019-12-22 19:00:00":{"temperature":{"2m":281.5,"sol":282.4,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":98660},"pluie":0.3,"pluie_convective":0.2,"humidite":{"2m":78.5},"vent_moyen":{"10m":47.7},"vent_rafales":{"10m":67},"vent_direction":{"10m":257},"iso_zero":1055,"risque_neige":"non","cape":0,"nebulosite":{"haute":30,"moyenne":44,"basse":79,"totale":83}},"2019-12-22 22:00:00":{"temperature":{"2m":281.3,"sol":282.1,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":98950},"pluie":0,"pluie_convective":0,"humidite":{"2m":80.9},"vent_moyen":{"10m":47.6},"vent_rafales":{"10m":66.4},"vent_direction":{"10m":240},"iso_zero":1133,"risque_neige":"non","cape":0,"nebulosite":{"haute":0,"moyenne":0,"basse":0,"totale":0}},"2019-12-23 01:00:00":{"temperature":{"2m":281.3,"sol":282,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99010},"pluie":0,"pluie_convective":0,"humidite":{"2m":79.5},"vent_moyen":{"10m":49},"vent_rafales":{"10m":68.8},"vent_direction":{"10m":236},"iso_zero":1214,"risque_neige":"non","cape":0,"nebulosite":{"haute":0,"moyenne":0,"basse":0,"totale":0}},"2019-12-23 04:00:00":{"temperature":{"2m":281.2,"sol":281.7,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99000},"pluie":0,"pluie_convective":0,"humidite":{"2m":79.6},"vent_moyen":{"10m":54.9},"vent_rafales":{"10m":71.8},"vent_direction":{"10m":238},"iso_zero":1124,"risque_neige":"non","cape":0,"nebulosite":{"haute":58,"moyenne":2,"basse":0,"totale":58}},"2019-12-23 07:00:00":{"temperature":{"2m":280.9,"sol":281.5,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99000},"pluie":0,"pluie_convective":0,"humidite":{"2m":83},"vent_moyen":{"10m":44},"vent_rafales":{"10m":59.8},"vent_direction":{"10m":245},"iso_zero":1181,"risque_neige":"non","cape":0,"nebulosite":{"haute":79,"moyenne":2,"basse":0,"totale":79}},"2019-12-23 10:00:00":{"temperature":{"2m":280.8,"sol":281.4,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99140},"pluie":0,"pluie_convective":0,"humidite":{"2m":85.2},"vent_moyen":{"10m":35},"vent_rafales":{"10m":47.7},"vent_direction":{"10m":245},"iso_zero":1175,"risque_neige":"non","cape":0,"nebulosite":{"haute":16,"moyenne":18,"basse":0,"totale":18}},"2019-12-23 13:00:00":{"temperature":{"2m":280.7,"sol":281.2,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99200},"pluie":0,"pluie_convective":0,"humidite":{"2m":86.2},"vent_moyen":{"10m":29.9},"vent_rafales":{"10m":40.8},"vent_direction":{"10m":248},"iso_zero":1090,"risque_neige":"non","cape":0,"nebulosite":{"haute":24,"moyenne":59,"basse":0,"totale":59}},"2019-12-23 16:00:00":{"temperature":{"2m":280.7,"sol":281.1,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99270},"pluie":0,"pluie_convective":0,"humidite":{"2m":85.6},"vent_moyen":{"10m":29.6},"vent_rafales":{"10m":40.7},"vent_direction":{"10m":261},"iso_zero":1142,"risque_neige":"non","cape":0,"nebulosite":{"haute":0,"moyenne":100,"basse":0,"totale":100}},"2019-12-23 19:00:00":{"temperature":{"2m":280.8,"sol":281.1,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99450},"pluie":0,"pluie_convective":0,"humidite":{"2m":84},"vent_moyen":{"10m":32.4},"vent_rafales":{"10m":45.4},"vent_direction":{"10m":258},"iso_zero":1213,"risque_neige":"non","cape":0,"nebulosite":{"haute":0,"moyenne":83,"basse":5,"totale":89}},"2019-12-23 22:00:00":{"temperature":{"2m":280.9,"sol":281.3,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99620},"pluie":0,"pluie_convective":0,"humidite":{"2m":86.3},"vent_moyen":{"10m":30.3},"vent_rafales":{"10m":43.7},"vent_direction":{"10m":247},"iso_zero":1137,"risque_neige":"non","cape":0,"nebulosite":{"haute":0,"moyenne":67,"basse":0,"totale":67}},"2019-12-24 01:00:00":{"temperature":{"2m":280.8,"sol":280.9,"500hPa":-0.1,"850hPa":-0.1},"pression":{"niveau_de_la_mer":99750},"pluie":0,"pluie_convective":0,"humidite":{"2m":85.4},"vent_moyen":{"10m":31.9},"vent_rafales":{"10m":43.2},"vent_direction":{"10m":249},"iso_zero":1156,"risque_neige":"non","cape":0,"nebulosite":{"haute":0,"moyenne":50,"basse":0,"totale":50}}}
        """#
        
        let dataString = #"""
        {"request_date": \#(Date()),
        "prediction": \#(dataSample)
        }
        """#
        // when
        store.storeData(dataString: dataString) {
           
        }
        // Setup staleness
        UserDefaults.standard.set(3000, forKey: Constants.SettingsKeys.validityKey)
    }

}

